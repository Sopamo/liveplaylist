<head>
    <title>LiveTube</title>

    <script type="text/javascript" src="/bower_components/webcomponentsjs/webcomponents-lite.js"></script>
    <link href="//fonts.googleapis.com/css?family=RobotoDraft:300,400,500|Source+Code+Pro:400,500,700" rel="stylesheet">
    <link rel="import" href="/bower_components/polymer/polymer.html">
    <link rel="import" href="/bower_components/iron-icons/iron-icons.html">
    <link rel="import" href="/bower_components/iron-icons/av-icons.html">
    <link rel="import" href="/bower_components/iron-icon/iron-icon.html">
    <link rel="import" href="/bower_components/paper-button/paper-button.html">
    <link rel="import" href="/bower_components/paper-header-panel/paper-header-panel.html">
    <link rel="import" href="/bower_components/paper-material/paper-material.html">
    <link rel="import" href="/bower_components/paper-fab/paper-fab.html">
    <link rel="import" href="/bower_components/paper-menu/paper-menu.html">
    <link rel="import" href="/bower_components/paper-item/paper-item.html">
    <link rel="import" href="/bower_components/paper-slider/paper-slider.html">
    <link rel="import" href="/bower_components/paper-toolbar/paper-toolbar.html">
    <link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="/bower_components/paper-drawer-panel/paper-drawer-panel.html">
    <link rel="import" href="/bower_components/paper-progress/paper-progress.html">
    <link rel="import" href="/bower_components/paper-ripple/paper-ripple.html">
    <link rel="import" href="/bower_components/neon-animation/animations/scale-up-animation.html">
    <link rel="import" href="/bower_components/neon-animation/animations/scale-down-animation.html">
    <link rel="import" href="/bower_components/neon-animation/animations/transform-animation.html">
    <link rel="import" href="/bower_components/neon-animation/animations/hero-animation.html">
    <link rel="import" href="/bower_components/neon-animation/animations/ripple-animation.html">
    <link rel="import" href="/bower_components/neon-animation/neon-animated-pages.html">
    <link rel="import" href="/bower_components/neon-animation/neon-animations.html">
    <link rel="import" href="/bower_components/paper-dialog/paper-dialog.html">
    <link rel="import" href="/custom_elements/animated-grid.html">
    <link rel="import" href="/custom_elements/fullsize-page-with-card.html">
</head>

<body class="">
</body>

<template name="videolist">
    <div style="width:100%;height:100%;">
        <paper-drawer-panel right-drawer drawer-width="300px">
            <paper-material drawer elevation="5">
                <div class="chat-wrapper">
                    {{#with currentChannel}}
                        {{> chat}}
                    {{/with}}
                    <form class="chat-form">
                        <input type="text" id="chat-message" class="form-control input-lg" placeholder="What's on your mind?" autocomplete="off">
                    </form>
                </div>
            </paper-material>
            <div main>
                <paper-drawer-panel responsive-width="1024px">
                    <paper-material class="sidebar" drawer elevation="5">
                        <h2>Your Account</h2>
        
                        <div class="account-data">
                            {{#if currentUser}}
                            Welcome {{ username }}<br>
                            {{> atNavButton}}
                            {{else}}
                            {{> atForm}}
                            {{/if}}
                        </div>
                        <h2>Top Channels</h2>
                        <ul class="top-channels">
                            {{#each topChannels}}
                            {{> topChannel}}
                            {{/each}}
                        </ul>
                    </paper-material>
                    <paper-header-panel main mode="cover" style="height: 100%" class="lime">
                        <div class="main-header paper-header tall"></div>
                        <div class="content cover main-content">
                            <paper-material elevation="5">
        
                                <paper-toolbar class="channel-toolbar">
                                    <paper-icon-button class="open-navigation" paper-drawer-toggle icon="menu"></paper-icon-button>
                                    <div title>{{ channelSlug }} </div>
                                    <span>{{ currentChannel.activeUsers }} active users</span>
                                </paper-toolbar>
        
                                <div id="player"></div>
                                <paper-progress value="0" class="player-progress"></paper-progress>
                                <ul class="video-list">
                                    {{#each videos}}
                                    {{> video}}
                                    {{/each}}
                                </ul>
                                <paper-fab src="/img/ic_sync_black_24dp.png" class="play-toggle rotate"></paper-fab>
                                <neon-animated-pages id="pages" selected="0">
        
                                    <animated-grid id="grid"></animated-grid>
                                    <fullsize-page-with-card id="fullsize-card" hero-id="hero"></fullsize-page-with-card>
        
                                </neon-animated-pages>
                            </paper-material>
                        </div>
                    </paper-header-panel>
                </paper-drawer-panel>
            </div>
        </paper-drawer-panel>
    </div>
    
    
    
    
</template>

<template name="topChannel">
    <li>
        <a href="/c/{{slug}}" class="top-channel-link">
            <paper-material elevation="2" class="top-channel-wrapper">
                <paper-ripple></paper-ripple>
                <div class="top-channel">
                    <img src="http://img.youtube.com/vi/{{active}}/0.jpg">

                    <div class="channel-name">
                        {{slug}}
                    </div>
                </div>
            </paper-material>
        </a>
    </li>
</template>

<template name="video">
    <li class="video-entry {{#if isActive ytid}}active{{/if}}" data-videoid="{{ytid}}">
        {{title}}
    </li>
</template>

<template name="chat">
    <ul class="chat-messages">
        {{#each messages}}
            {{> chatmessage}}
        {{/each}}
    </ul>
</template>

<template name="chatmessage">
        <li>
            {{name}}: {{message}}
        </li>
</template>